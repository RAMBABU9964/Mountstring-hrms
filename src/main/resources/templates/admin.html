<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Dashboard</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #8e8e8e;
            color: white;
            margin: 0;
            padding: 0;
        }

        .header {
            background-color: #45b6fe;
            padding: 10px;
            width : 100%
        }

        .header h1 {
            text-decoration: underline;
            text-align: center;
        }

        .button-container {
            display: flex;
            justify-content: flex-end;
        }

        .button-container button {
            margin-left: 10px;
        }

        .container-table {
            margin-top: 20px;

        }

        h2 {
            color: #45b6fe;
        }

        table {
            font-size: 16px;
            text-align: center;
            background-color: white;
            color: rgb(128, 64, 28, 64, 64);
            overflow-x: auto; /* To enable horizontal scrolling on smaller screens */
            //width : 718px !important;

        }

        .table-striped tbody tr:nth-of-type(odd) {
            background-color: red;
        }
    </style>
</head>
<body>

<div class="header">
    <div class="">
        <button class="btn btn-danger" onclick="goBack()">Back</button>
    </div>
    <h1>Admin Dashboard</h1>
    <div class=" row">
        <div class="col-md-4">
        <button class="btn btn-primary"><a href="registration" style="color: white; text-decoration: none;">NEW REGISTER</a></button>
        </div>
        <div class="col-md-4">
        <button class="btn btn-primary"><a href="myprofile" style="color: white; text-decoration: none;">My Profile</a></button>
        </div>
        <div class="col-md-4">
        <button class="btn btn-primary"><a href="ListPresent" style="color: white; text-decoration: none;">Today Employees Attendance</a></button>
        </div>
        <div class="col-md-4">
        <button class="btn btn-primary"><a href="Teams" style="color: white; text-decoration: none;">Teams</a></button>
        </div>

        <div class="col-md-4">
        <button class="btn btn-secondary"><a href="@{/logout}" style="color: white; text-decoration: none;">Logout</a></button>
        </div>
        <div class="col-md-4">
        <form th:action="@{/updateFixedTime}" method="post">
    <label for="fixedTime"></label>
    <input type="time" id="fixedTime" name="fixedTime" placeholder="HH:mm" th:value="${currentFixedTime}">
            <input type="time" id="fixedoutTime" name="fixedoutTime" placeholder="HH:mm" th:value="${currentFixedTime}">
    <button type="submit">Update Office Time</button>
</form>
        </div>
    </div>
</div>

<div class="container-table">
    <table class="table table-striped table-responsive-sm">
        <thead>
        <tr>
            <th>EMP_ID</th>
            <th>FullName</th>
            <th>Role</th>
            <th>Email</th>
            <th>PhoneNumber</th>
            <th>Action</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="emp:${list}">
            <td th:text="${emp.id}"></td>
            <td th:text="${emp.fullname}"></td>
            <td th:text="${emp.role}"></td>
            <td th:text="${emp.email}"></td>
            <td th:text="${emp.phoneNumber}"></td>
            <td class="action-cell">
                <span class="symbol" onclick="toggleOptions(this)">&#x270E;</span>
                <div class="options" style="display: none;">
                    <a th:href="@{/showFormForUpdateAdmin/{id}(id=${emp.id})}" class="btn btn-primary update-option">Update</a>
                    <a th:href="@{/deleteEmployee/{id}(id=${emp.id})}" class="btn btn-primary delete-option">Delete</a>
                    <a th:href="@{/viewEmployee/{id}(id=${emp.id})}" class="btn btn-primary view-option">View</a>
                    <a th:href="@{/viewAttendance/{id}(id=${emp.id})}" class="btn btn-primary update-option">Attendance</a>
                    <a th:href="@{/markAttendance/{id}(id=${emp.id})}" class="btn btn-primary update-option">Mark Attendance</a>
                    <a th:href="@{/bankAccount/{id}(id=${emp.id})}" class="btn btn-primary update-option">Bank Account Details</a>
                </div>
            </td>
        </tr>
        </tbody>
    </table>
</div>

<script>
    function toggleOptions(symbol) {
        var options = symbol.parentNode.querySelector('.options');
        options.style.display = options.style.display === 'none' ? 'block' : 'none';
    }

    function goBack() {
        window.history.back();
    }
</script>

</body>
</html>
